{
  "paths": {
    "/api/words": {
      "get": {
        "summary": "Get all words",
        "description": "Retrieve a paginated list of words with optional filtering",
        "tags": ["Words"],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "Page number for pagination",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Number of items per page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            }
          },
          {
            "name": "wordUser",
            "in": "query",
            "description": "Filter by word name (partial match)",
            "schema": {
              "type": "string",
              "example": "example"
            }
          },
          {
            "name": "language",
            "in": "query",
            "description": "Filter by language (comma-separated for multiple)",
            "schema": {
              "type": "string",
              "example": "en,es"
            }
          },
          {
            "name": "difficulty",
            "in": "query",
            "description": "Filter by difficulty level (comma-separated for multiple)",
            "schema": {
              "type": "string",
              "enum": ["easy", "medium", "hard"],
              "example": "easy,medium"
            }
          },
          {
            "name": "type",
            "in": "query",
            "description": "Filter by word type (comma-separated for multiple)",
            "schema": {
              "type": "string",
              "example": "noun,verb"
            }
          },
          {
            "name": "seenMin",
            "in": "query",
            "description": "Minimum number of times the word has been seen",
            "schema": {
              "type": "integer",
              "minimum": 0,
              "example": 5
            }
          },
          {
            "name": "seenMax",
            "in": "query",
            "description": "Maximum number of times the word has been seen",
            "schema": {
              "type": "integer",
              "minimum": 0,
              "example": 20
            }
          },
          {
            "name": "sortBy",
            "in": "query",
            "description": "Field to sort by",
            "schema": {
              "type": "string",
              "enum": ["createdAt", "updatedAt", "word", "seen", "level"],
              "default": "createdAt",
              "example": "createdAt"
            }
          },
          {
            "name": "sortOrder",
            "in": "query",
            "description": "Sort order",
            "schema": {
              "type": "string",
              "enum": ["asc", "desc"],
              "default": "desc",
              "example": "desc"
            }
          },
          {
            "name": "definition",
            "in": "query",
            "description": "Filter by definition content",
            "schema": {
              "type": "string",
              "example": "example"
            }
          },
          {
            "name": "IPA",
            "in": "query",
            "description": "Filter by IPA pronunciation",
            "schema": {
              "type": "string",
              "example": "/ɪɡˈzæmpəl/"
            }
          },
          {
            "name": "hasImage",
            "in": "query",
            "description": "Filter by words that have an image",
            "schema": {
              "type": "string",
              "enum": ["true", "false"],
              "example": "true"
            }
          },
          {
            "name": "hasExamples",
            "in": "query",
            "description": "Filter by words that have examples",
            "schema": {
              "type": "string",
              "enum": ["true", "false"],
              "example": "true"
            }
          },
          {
            "name": "hasSynonyms",
            "in": "query",
            "description": "Filter by words that have synonyms",
            "schema": {
              "type": "string",
              "enum": ["true", "false"],
              "example": "true"
            }
          },
          {
            "name": "hasCodeSwitching",
            "in": "query",
            "description": "Filter by words that have code-switching examples",
            "schema": {
              "type": "string",
              "enum": ["true", "false"],
              "example": "true"
            }
          },
          {
            "name": "spanishWord",
            "in": "query",
            "description": "Filter by Spanish word translation",
            "schema": {
              "type": "string",
              "example": "ejemplo"
            }
          },
          {
            "name": "spanishDefinition",
            "in": "query",
            "description": "Filter by Spanish definition",
            "schema": {
              "type": "string",
              "example": "ejemplo representativo"
            }
          },
          {
            "name": "createdAfter",
            "in": "query",
            "description": "Filter by creation date after this date (ISO 8601)",
            "schema": {
              "type": "string",
              "format": "date-time",
              "example": "2024-01-01T00:00:00Z"
            }
          },
          {
            "name": "createdBefore",
            "in": "query",
            "description": "Filter by creation date before this date (ISO 8601)",
            "schema": {
              "type": "string",
              "format": "date-time",
              "example": "2024-12-31T23:59:59Z"
            }
          },
          {
            "name": "updatedAfter",
            "in": "query",
            "description": "Filter by update date after this date (ISO 8601)",
            "schema": {
              "type": "string",
              "format": "date-time",
              "example": "2024-01-01T00:00:00Z"
            }
          },
          {
            "name": "updatedBefore",
            "in": "query",
            "description": "Filter by update date before this date (ISO 8601)",
            "schema": {
              "type": "string",
              "format": "date-time",
              "example": "2024-12-31T23:59:59Z"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of words retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Words retrieved successfully"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "../schemas/common.json#/components/schemas/Word"
                      }
                    },
                    "pagination": {
                      "$ref": "../schemas/common.json#/components/schemas/PaginationResponse"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create a new word",
        "description": "Create a new word with all its properties",
        "tags": ["Words"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "../schemas/common.json#/components/schemas/Word"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Word created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Word created successfully"
                    },
                    "data": {
                      "$ref": "../schemas/common.json#/components/schemas/Word"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/words/{id}": {
      "get": {
        "summary": "Get word by ID",
        "description": "Retrieve a specific word by its unique identifier",
        "tags": ["Words"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Unique identifier of the word",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Word found successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Word listed by Id successfully"
                    },
                    "data": {
                      "$ref": "../schemas/common.json#/components/schemas/Word"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Word not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update word",
        "description": "Update an existing word with new data",
        "tags": ["Words"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Unique identifier of the word to update",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "../schemas/common.json#/components/schemas/Word"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Word updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Word updated successfully"
                    },
                    "data": {
                      "$ref": "../schemas/common.json#/components/schemas/Word"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Word not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Delete word",
        "description": "Delete a word permanently",
        "tags": ["Words"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Unique identifier of the word to delete",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Word deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Word deleted successfully"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Word not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/words/{word}/word": {
      "get": {
        "summary": "Get word by name",
        "description": "Retrieve a word by its actual word value (not ID)",
        "tags": ["Words"],
        "parameters": [
          {
            "name": "word",
            "in": "path",
            "required": true,
            "description": "The actual word to search for",
            "schema": {
              "type": "string",
              "example": "example"
            }
          },
          {
            "name": "word",
            "in": "query",
            "required": false,
            "description": "Alternative way to pass the word as query parameter",
            "schema": {
              "type": "string",
              "example": "example"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Word found successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Get Word successFully"
                    },
                    "data": {
                      "$ref": "../schemas/common.json#/components/schemas/Word"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Word not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/words/anki-cards": {
      "get": {
        "summary": "Get Anki cards",
        "description": "Retrieve words formatted as Anki flashcards for spaced repetition learning",
        "tags": ["Words"],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "description": "Number of cards to retrieve",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 20
            }
          },
          {
            "name": "level",
            "in": "query",
            "description": "Filter by difficulty level",
            "schema": {
              "type": "string",
              "enum": ["easy", "medium", "hard"]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Anki cards retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Anki cards retrieved successfully"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "../schemas/common.json#/components/schemas/AnkiCard"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/words/by-type-optimized": {
      "get": {
        "summary": "Get words by type (optimized)",
        "description": "Retrieve words grouped by their grammatical type with optimized performance",
        "tags": ["Words"],
        "parameters": [
          {
            "name": "type",
            "in": "query",
            "description": "Grammatical type to filter by",
            "schema": {
              "type": "string",
              "example": "noun"
            }
          },
          {
            "name": "language",
            "in": "query",
            "description": "Language to filter by",
            "schema": {
              "type": "string",
              "example": "en"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Words by type retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Words by type retrieved successfully"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "../schemas/common.json#/components/schemas/Word"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/words/export-file": {
      "get": {
        "summary": "Export words to JSON",
        "description": "Export all words to a downloadable JSON file",
        "tags": ["Words"],
        "responses": {
          "200": {
            "description": "Words exported successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Words exported successfully"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "../schemas/common.json#/components/schemas/Word"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/words/import-file": {
      "post": {
        "summary": "Import words from JSON file",
        "description": "Import words from an uploaded JSON file",
        "tags": ["Words"],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary",
                    "description": "JSON file containing words data"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Words imported successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Words imported successfully"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "imported": {
                          "type": "integer",
                          "description": "Number of words imported"
                        },
                        "errors": {
                          "type": "integer",
                          "description": "Number of import errors"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid file format",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/words/generate": {
      "post": {
        "summary": "Generate word with AI",
        "description": "Generate a new word with definition, examples, and metadata using AI",
        "tags": ["Words"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "../schemas/common.json#/components/schemas/AIGenerationRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Word generated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Word generated successfully"
                    },
                    "data": {
                      "$ref": "../schemas/common.json#/components/schemas/Word"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/words/{idword}/generate-examples": {
      "post": {
        "summary": "Generate word examples with AI",
        "description": "Generate example sentences for a specific word using AI",
        "tags": ["Words"],
        "parameters": [
          {
            "name": "idword",
            "in": "path",
            "required": true,
            "description": "ID of the word to generate examples for",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "language": {
                    "type": "string",
                    "description": "Language for examples",
                    "example": "en"
                  },
                  "count": {
                    "type": "integer",
                    "description": "Number of examples to generate",
                    "example": 3
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Examples generated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Examples generated successfully"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "examples": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Word not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/words/{idword}/generate-code-switching": {
      "post": {
        "summary": "Generate code-switching examples",
        "description": "Generate code-switching examples for a word using AI",
        "tags": ["Words"],
        "parameters": [
          {
            "name": "idword",
            "in": "path",
            "required": true,
            "description": "ID of the word to generate code-switching examples for",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Code-switching examples generated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Code-switching examples generated successfully"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "codeSwitching": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Word not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/words/{idword}/generate-types": {
      "post": {
        "summary": "Generate word types with AI",
        "description": "Generate grammatical types for a word using AI",
        "tags": ["Words"],
        "parameters": [
          {
            "name": "idword",
            "in": "path",
            "required": true,
            "description": "ID of the word to generate types for",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Word types generated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Word types generated successfully"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "types": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Word not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/words/{idword}/generate-synonyms": {
      "post": {
        "summary": "Generate word synonyms with AI",
        "description": "Generate synonyms for a word using AI",
        "tags": ["Words"],
        "parameters": [
          {
            "name": "idword",
            "in": "path",
            "required": true,
            "description": "ID of the word to generate synonyms for",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Synonyms generated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Synonyms generated successfully"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "synonyms": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Word not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/words/{idword}/generate-image": {
      "post": {
        "summary": "Generate word image with AI",
        "description": "Generate an image for a word using AI and update the word record",
        "tags": ["Words"],
        "parameters": [
          {
            "name": "idword",
            "in": "path",
            "required": true,
            "description": "ID of the word to generate image for",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Image generated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Image generated successfully"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "imageUrl": {
                          "type": "string",
                          "description": "URL of the generated image"
                        },
                        "word": {
                          "$ref": "../schemas/common.json#/components/schemas/Word"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Word not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/words/{id}/level": {
      "put": {
        "summary": "Update word level",
        "description": "Update the difficulty level of a word",
        "tags": ["Words"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "ID of the word to update",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "level": {
                    "type": "string",
                    "enum": ["easy", "medium", "hard"],
                    "description": "New difficulty level"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Word level updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Word level updated successfully"
                    },
                    "data": {
                      "$ref": "../schemas/common.json#/components/schemas/Word"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Word not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/words/{id}/increment-seen": {
      "put": {
        "summary": "Increment word seen count",
        "description": "Increment the number of times a word has been seen",
        "tags": ["Words"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "ID of the word to update",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Word seen count updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Word seen count updated successfully"
                    },
                    "data": {
                      "$ref": "../schemas/common.json#/components/schemas/Word"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Word not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/words/{wordId}/update-review": {
      "post": {
        "summary": "Update word review",
        "description": "Update the review status of a word for spaced repetition",
        "tags": ["Words"],
        "parameters": [
          {
            "name": "wordId",
            "in": "path",
            "required": true,
            "description": "ID of the word to update review for",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "reviewStatus": {
                    "type": "string",
                    "enum": ["correct", "incorrect", "difficult"],
                    "description": "Review status"
                  },
                  "nextReviewDate": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Next review date"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Word review updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Word review updated successfully"
                    },
                    "data": {
                      "$ref": "../schemas/common.json#/components/schemas/Word"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Word not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/words/{wordId}/chat": {
      "get": {
        "summary": "Get chat history for word",
        "description": "Retrieve chat history for a specific word",
        "tags": ["Words", "Chat"],
        "parameters": [
          {
            "name": "wordId",
            "in": "path",
            "required": true,
            "description": "ID of the word to get chat history for",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Chat history retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Chat history retrieved successfully"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "../schemas/common.json#/components/schemas/ChatMessage"
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Word not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Add chat message for word",
        "description": "Add a new chat message for a specific word",
        "tags": ["Words", "Chat"],
        "parameters": [
          {
            "name": "wordId",
            "in": "path",
            "required": true,
            "description": "ID of the word to add chat message for",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "message": {
                    "type": "string",
                    "description": "Chat message content",
                    "example": "Can you explain this word?"
                  },
                  "role": {
                    "type": "string",
                    "enum": ["user", "assistant"],
                    "description": "Role of the message sender",
                    "example": "user"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Chat message added successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Chat message added successfully"
                    },
                    "data": {
                      "$ref": "../schemas/common.json#/components/schemas/ChatMessage"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Word not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Clear chat history for word",
        "description": "Clear all chat history for a specific word",
        "tags": ["Words", "Chat"],
        "parameters": [
          {
            "name": "wordId",
            "in": "path",
            "required": true,
            "description": "ID of the word to clear chat history for",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Chat history cleared successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Chat history cleared successfully"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Word not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/words/{wordId}/chat/stream": {
      "post": {
        "summary": "Stream chat response for word",
        "description": "Get a streaming AI response for a word chat",
        "tags": ["Words", "Chat"],
        "parameters": [
          {
            "name": "wordId",
            "in": "path",
            "required": true,
            "description": "ID of the word to get streaming response for",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "message": {
                    "type": "string",
                    "description": "User message to get AI response for",
                    "example": "Explain this word in detail"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Streaming response initiated successfully",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string",
                  "description": "Streaming text response"
                }
              }
            }
          },
          "404": {
            "description": "Word not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/words/anki-cards": {
      "get": {
        "summary": "Get Anki cards",
        "description": "Retrieve words formatted as Anki cards with filtering options",
        "tags": ["Words", "Anki"],
        "parameters": [
          {
            "name": "mode",
            "in": "query",
            "description": "Mode for retrieving cards",
            "schema": {
              "type": "string",
              "enum": ["random", "review"],
              "default": "random",
              "example": "random"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Number of cards to retrieve",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 30,
              "example": 30
            }
          },
          {
            "name": "difficulty",
            "in": "query",
            "description": "Difficulty levels (comma-separated)",
            "schema": {
              "type": "string",
              "example": "hard,medium"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Anki cards retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Anki cards retrieved successfully (random mode)"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "../schemas/common.json#/components/schemas/AnkiCard"
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error retrieving Anki cards",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/words/by-type-optimized": {
      "get": {
        "summary": "Get words by type (optimized)",
        "description": "Retrieve words filtered by type with optimized performance",
        "tags": ["Words"],
        "parameters": [
          {
            "name": "type",
            "in": "query",
            "required": true,
            "description": "Word type to filter by",
            "schema": {
              "type": "string",
              "example": "noun"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Number of words to retrieve",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 10,
              "example": 10
            }
          },
          {
            "name": "wordUser",
            "in": "query",
            "description": "Search term for word filtering",
            "schema": {
              "type": "string",
              "example": "example"
            }
          },
          {
            "name": "fields",
            "in": "query",
            "description": "Specific fields to return",
            "schema": {
              "type": "string",
              "example": "word,definition"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Words by type retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Words of type noun retrieved successfully"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "../schemas/common.json#/components/schemas/Word"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Type parameter is required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Error retrieving words by type",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/words/generate": {
      "post": {
        "summary": "Generate word using AI",
        "description": "Generate a complete word with all its data using AI",
        "tags": ["Words", "AI Generation"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["word"],
                "properties": {
                  "word": {
                    "type": "string",
                    "description": "The word to generate data for",
                    "example": "example"
                  },
                  "language": {
                    "type": "string",
                    "description": "Target language for the word (optional)",
                    "example": "en"
                  },
                  "provider": {
                    "type": "string",
                    "description": "AI provider to use",
                    "enum": ["openai", "anthropic"],
                    "default": "openai",
                    "example": "openai"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Word generated and saved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Word generated and saved successfully"
                    },
                    "data": {
                      "$ref": "../schemas/common.json#/components/schemas/Word"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Word is required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Error generating or saving word",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/words/{idword}/generate-examples": {
      "post": {
        "summary": "Generate examples for a word",
        "description": "Generate examples for an existing word using AI",
        "tags": ["Words", "AI Generation"],
        "parameters": [
          {
            "name": "idword",
            "in": "path",
            "required": true,
            "description": "Word ID",
            "schema": {
              "type": "string",
              "example": "68be381010f78de8a7a18a5f"
            }
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "word": {
                    "type": "string",
                    "description": "The word to generate examples for (required)",
                    "example": "example"
                  },
                  "language": {
                    "type": "string",
                    "description": "Target language for the examples (optional)",
                    "example": "en"
                  },
                  "oldExamples": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "Existing examples to consider (optional)",
                    "example": ["This is an example sentence"]
                  },
                  "provider": {
                    "type": "string",
                    "description": "AI provider to use",
                    "enum": ["openai", "anthropic"],
                    "default": "openai",
                    "example": "openai"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Examples generated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Examples generated successfully"
                    },
                    "data": {
                      "$ref": "../schemas/common.json#/components/schemas/Word"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Word not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Error generating examples",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/words/{idword}/generate-image": {
      "post": {
        "summary": "Generate image for a word",
        "description": "Generate an image for an existing word using AI",
        "tags": ["Words", "AI Generation"],
        "parameters": [
          {
            "name": "idword",
            "in": "path",
            "required": true,
            "description": "Word ID",
            "schema": {
              "type": "string",
              "example": "68be381010f78de8a7a18a5f"
            }
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "provider": {
                    "type": "string",
                    "description": "AI provider to use",
                    "enum": ["openai", "anthropic"],
                    "default": "openai",
                    "example": "openai"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Image generated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Image generated successfully"
                    },
                    "data": {
                      "$ref": "../schemas/common.json#/components/schemas/Word"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Word not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Error generating image",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "../schemas/common.json#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    }
  }
}
