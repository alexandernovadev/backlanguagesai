{
  "components": {
    "parameters": {
      "AuthorizationHeader": {
        "name": "Authorization",
        "in": "header",
        "description": "Authorization header global - Se activa automáticamente",
        "required": true,
        "schema": {
          "type": "string",
          "default": "gaott"
        }
      }
    },
    "securitySchemes": {
      "BearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      },
      "TokenQuery": {
        "type": "apiKey",
        "in": "query",
        "name": "tokenAPI"
      }
    },
    "schemas": {
      "User": {
        "type": "object",
        "properties": {
          "_id": {
            "type": "string",
            "description": "Unique identifier for the user"
          },
          "username": {
            "type": "string",
            "description": "Username for login",
            "example": "admin"
          },
          "email": {
            "type": "string",
            "format": "email",
            "description": "User's email address",
            "example": "admin@example.com"
          },
          "password": {
            "type": "string",
            "description": "User's password (hashed)"
          },
          "role": {
            "type": "string",
            "enum": ["admin", "user"],
            "description": "User role",
            "example": "admin"
          },
          "firstName": {
            "type": "string",
            "description": "User's first name",
            "example": "John"
          },
          "lastName": {
            "type": "string",
            "description": "User's last name",
            "example": "Doe"
          },
          "image": {
            "type": "string",
            "description": "URL to user's profile image"
          },
          "language": {
            "type": "string",
            "description": "User's preferred language",
            "example": "es"
          },
          "isActive": {
            "type": "boolean",
            "description": "Whether the user account is active",
            "example": true
          },
          "address": {
            "type": "string",
            "description": "User's address"
          },
          "phone": {
            "type": "string",
            "description": "User's phone number"
          },
          "lastLogin": {
            "type": "string",
            "format": "date-time",
            "description": "Last login timestamp"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "Account creation timestamp"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Last update timestamp"
          }
        }
      },
      "Word": {
        "type": "object",
        "properties": {
          "_id": {
            "type": "string",
            "description": "Unique identifier for the word"
          },
          "word": {
            "type": "string",
            "description": "The word itself",
            "example": "example"
          },
          "definition": {
            "type": "string",
            "description": "Definition of the word",
            "example": "A representative form or pattern"
          },
          "examples": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Example sentences using the word",
            "example": ["This is an example sentence"]
          },
          "type": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Grammatical types of the word",
            "example": ["noun", "verb"]
          },
          "IPA": {
            "type": "string",
            "description": "International Phonetic Alphabet pronunciation",
            "example": "/ɪɡˈzæmpəl/"
          },
          "seen": {
            "type": "number",
            "description": "Number of times the word has been seen",
            "example": 5
          },
          "img": {
            "type": "string",
            "description": "URL to word's image",
            "example": "https://example.com/image.jpg"
          },
          "level": {
            "type": "string",
            "enum": ["easy", "medium", "hard"],
            "description": "Difficulty level of the word",
            "example": "medium"
          },
          "synonyms": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Synonyms of the word",
            "example": ["instance", "sample"]
          },
          "codeSwitching": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Code-switching examples",
            "example": ["Este es un ejemplo"]
          },
          "language": {
            "type": "string",
            "description": "Language of the word",
            "example": "en"
          },
          "spanish": {
            "type": "object",
            "description": "Spanish translation",
            "properties": {
              "definition": {
                "type": "string",
                "example": "Un ejemplo representativo"
              },
              "word": {
                "type": "string",
                "example": "ejemplo"
              }
            }
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "Lecture": {
        "type": "object",
        "properties": {
          "_id": {
            "type": "string",
            "description": "Unique identifier for the lecture"
          },
          "time": {
            "type": "number",
            "description": "Reading time in seconds",
            "example": 300
          },
          "level": {
            "type": "string",
            "description": "CEFR level (A1, A2, B1, B2, C1, C2)",
            "example": "B1"
          },
          "typeWrite": {
            "type": "string",
            "description": "Type of content (Article, Story, etc.)",
            "example": "Article"
          },
          "language": {
            "type": "string",
            "description": "Language of the lecture",
            "example": "en"
          },
          "img": {
            "type": "string",
            "description": "URL to lecture's image"
          },
          "urlAudio": {
            "type": "string",
            "description": "URL to audio file"
          },
          "content": {
            "type": "string",
            "description": "Main content of the lecture in Markdown format",
            "example": "# Example Lecture\n\nThis is an example lecture content."
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "Expression": {
        "type": "object",
        "properties": {
          "_id": {
            "type": "string",
            "description": "Unique identifier for the expression"
          },
          "expression": {
            "type": "string",
            "description": "The expression itself",
            "example": "break the ice"
          },
          "definition": {
            "type": "string",
            "description": "Definition of the expression",
            "example": "To initiate conversation in a social setting"
          },
          "examples": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Example sentences using the expression",
            "example": ["Let me break the ice by introducing myself"]
          },
          "level": {
            "type": "string",
            "enum": ["A1", "A2", "B1", "B2", "C1", "C2"],
            "description": "CEFR level of the expression",
            "example": "B2"
          },
          "language": {
            "type": "string",
            "description": "Language of the expression",
            "example": "en"
          },
          "type": {
            "type": "string",
            "description": "Type of expression (idiom, phrase, etc.)",
            "example": "idiom"
          },
          "img": {
            "type": "string",
            "description": "URL to expression's image"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "ChatMessage": {
        "type": "object",
        "properties": {
          "_id": {
            "type": "string",
            "description": "Unique identifier for the chat message"
          },
          "role": {
            "type": "string",
            "enum": ["user", "assistant"],
            "description": "Role of the message sender",
            "example": "user"
          },
          "content": {
            "type": "string",
            "description": "Content of the message",
            "example": "Can you explain this word?"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "description": "When the message was sent"
          }
        }
      },
      "AuthRequest": {
        "type": "object",
        "required": ["username", "password"],
        "properties": {
          "username": {
            "type": "string",
            "description": "Username for authentication",
            "example": "admin"
          },
          "password": {
            "type": "string",
            "description": "Password for authentication",
            "example": "adminpassword"
          }
        }
      },
      "AuthResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "message": {
            "type": "string",
            "example": "Login successful"
          },
          "data": {
            "type": "object",
            "properties": {
              "token": {
                "type": "string",
                "description": "JWT access token",
                "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
              },
              "refreshToken": {
                "type": "string",
                "description": "JWT refresh token"
              },
              "user": {
                "$ref": "#/components/schemas/User"
              }
            }
          }
        }
      },
      "RefreshTokenRequest": {
        "type": "object",
        "required": ["refreshToken"],
        "properties": {
          "refreshToken": {
            "type": "string",
            "description": "Refresh token to get new access token"
          }
        }
      },
      "ErrorResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": false
          },
          "message": {
            "type": "string",
            "example": "Error message"
          },
          "error": {
            "type": "string",
            "example": "Detailed error information"
          }
        }
      },
      "SuccessResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "message": {
            "type": "string",
            "example": "Operation successful"
          },
          "data": {
            "type": "object",
            "description": "Response data"
          }
        }
      },
      "PaginationResponse": {
        "type": "object",
        "properties": {
          "page": {
            "type": "integer",
            "description": "Current page number",
            "example": 1
          },
          "limit": {
            "type": "integer",
            "description": "Number of items per page",
            "example": 10
          },
          "total": {
            "type": "integer",
            "description": "Total number of items",
            "example": 100
          },
          "pages": {
            "type": "integer",
            "description": "Total number of pages",
            "example": 10
          }
        }
      },
      "AnkiCard": {
        "type": "object",
        "properties": {
          "front": {
            "type": "string",
            "description": "Front side of the card"
          },
          "back": {
            "type": "string",
            "description": "Back side of the card"
          },
          "word": {
            "type": "string",
            "description": "Word for the card"
          }
        }
      },
      "AIGenerationRequest": {
        "type": "object",
        "properties": {
          "prompt": {
            "type": "string",
            "description": "Prompt for AI generation"
          },
          "language": {
            "type": "string",
            "description": "Target language",
            "example": "en"
          },
          "level": {
            "type": "string",
            "description": "Difficulty level",
            "example": "B2"
          }
        }
      }
    }
  }
}
